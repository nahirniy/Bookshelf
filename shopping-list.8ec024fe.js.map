{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-1a78c2c57ec5b10c.js","src/shopping-list.js","src/js/shopping-list/shopping-content.js","src/js/shopping-list/markup.js","node_modules/@parcel/runtime-js/lib/runtime-8abb300b3a5395d3.js","node_modules/@parcel/runtime-js/lib/runtime-59c6975dba8d68bf.js","node_modules/@parcel/runtime-js/lib/runtime-c1fb33c7fca67900.js","node_modules/@parcel/runtime-js/lib/runtime-c6e6339297fec74f.js","node_modules/@parcel/runtime-js/lib/runtime-9eb8fd3e1e5f7a71.js","src/js/shopping-list/remove-book.js","src/js/shopping-list/pagination/pagination.js","src/js/shopping-list/pagination/markup-button.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"jSFKT\\\":\\\"shopping-list.8ec024fe.js\\\",\\\"iBapZ\\\":\\\"icons.abbade11.svg\\\",\\\"5uWXW\\\":\\\"amazon.35e2295a.webp\\\",\\\"bt2Tw\\\":\\\"amazon@2x.52597b7e.webp\\\",\\\"4Sit1\\\":\\\"apple-books.8b0c3eb8.webp\\\",\\\"d1Pnb\\\":\\\"apple-books@2x.6fa174b5.webp\\\",\\\"cfiU8\\\":\\\"index.a00832ea.js\\\"}\"));","import './js/services/scroll-up';\n// import './js/sidebar/support-list';\nimport './js/services/mobile-menu';\nimport './js/shopping-list/shopping-content';\n// import './js/modal-book/modal-book';\nimport './js/shopping-list/pagination/pagination';\n","import { loadFromLS } from '../helpers';\nimport { refs } from '../refs';\nimport { createMarkup } from './markup';\nimport { removeBook } from './remove-book';\n\nconst LOCALSTORAGE_KEY = 'dates of books';\nconst basket = loadFromLS(LOCALSTORAGE_KEY) ?? [];\n\nconst { emptyContent, shoppingContentList } = refs;\n\nexport function shoppingListContent() {\n\tif (basket.length !== 0) {\n\t\temptyContent.classList.add('visually-hidden');\n\t} else {\n\t\temptyContent.classList.remove('visually-hidden');\n\t}\n\n\tconst currentBasket = basket.slice(0, 4);\n\tcreateMarkup(currentBasket);\n}\n\nshoppingListContent();\nshoppingContentList.addEventListener('click', e => removeBook(e, basket));\n","import { refs } from '../refs';\nimport amazon from '../../images/trading-platform/amazon.webp';\nimport amazon2x from '../../images/trading-platform/amazon@2x.webp';\nimport appleBooks from '../../images/trading-platform/apple-books.webp';\nimport appleBooks2x from '../../images/trading-platform/apple-books@2x.webp';\nimport sprite from '../../images/icons/icons.svg';\n\nconst { shoppingContentList } = refs;\n\nfunction createLink(links, item) {\n\treturn links.find(({ name }) => name.toLowerCase() === item).url;\n}\n\nexport function createMarkup(basket) {\n\tconst markup = basket\n\t\t.map(({ _id, book_image, list_name, title, author, buy_links }) => {\n\t\t\tconst amazonLink = createLink(buy_links, 'amazon');\n\t\t\tconst appleBooksLink = createLink(buy_links, 'apple books');\n\n\t\t\treturn `<li class=\"shopping-content__item\" data-id=\"${_id}\">\n                <img class=\"shopping-content__image\" src=\"${book_image}\" alt=\"${title}\" />\n                <div class=\"shopping-content__box\">\n                    <div class=\"shopping-content__header-wrapper\">\n                        <div class=\"shopping-content__head-box\">\n                            <h3 class=\"shopping-content__title\">${title}</h3>\n                            <span class=\"shopping-content__list-name\">${list_name}</span>\n                        </div>\n                        <button class=\"shopping-content__delete-btn\" type=\"button\">\t\t\t\t\t\n                            <svg class=\"shopping-content__icon-trash\">\n\t\t\t\t\t\t        <use href=\"${sprite}#icon-trash\"></use>\n\t\t\t\t\t        </svg>\n                        </button>\n                    </div>\n                    <p class=\"shopping-content__description\">\n                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolorem quo facere quibusdam\n                        necessitatibus ex odio quaerat mollitia modi minima\n                    </p>\n                    <div class=\"shopping-content__bottom-wrapper\">\n                        <span class=\"shopping-content__author\">${author}</span>\n                        <ul class=\"shopping-content__company-list\">\n                            <li class=\"shopping-content__company-item\">\n                                <a href=\"${amazonLink}\" class=\"shopping-content__company-link\" target=\"_blank\">\n                                    <img\n                                        class=\"shopping-content__company-img\"\n                                        srcset=\"${amazon} 1x, ${amazon2x} 2x\"\n                                        src=\"${amazon}\"\n                                        alt=\"Amazon\"\n                                        width=\"32\"\n                                        height=\"11\"\n                                        loading=\"lazy\"\n                                    />\n                                </a>\n                            </li>\n                            <li class=\"shopping-content__company-item\">\n                                <a href=\"${appleBooksLink}\" class=\"shopping-content__company-link\" target=\"_blank\">\n                                    <img\n                                        class=\"shopping-content__company-img\"\n                                        srcset=\"${appleBooks} 1x, ${appleBooks2x} 2x\"\n                                        src=\"${appleBooks}\"\n                                        alt=\"Apple books\"\n                                        width=\"16\"\n                                        height=\"16\"\n                                        loading=\"lazy\"\n                                    />\n                                </a>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </li>`;\n\t\t})\n\t\t.join('');\n\n\tshoppingContentList.innerHTML = markup;\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"5uWXW\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"bt2Tw\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"4Sit1\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"d1Pnb\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"iBapZ\");","import { saveToLS } from '../helpers';\nimport { shoppingListContent } from './shopping-content';\n\nconst LOCALSTORAGE_KEY = 'dates of books';\n\nexport function removeBook(e, basket) {\n\tconst currentBtn = e.target.closest('.shopping-content__delete-btn');\n\n\tif (!currentBtn) {\n\t\treturn;\n\t}\n\n\tconst bookId = currentBtn.closest('.shopping-content__item').dataset.id;\n\n\tfindBook(bookId, basket);\n\tsaveToLS(LOCALSTORAGE_KEY, basket);\n\tshoppingListContent();\n}\n\nfunction findBook(id, basket) {\n\tconst index = basket.findIndex(book => book._id === id);\n\tbasket.splice(index, 1);\n}\n","import { loadFromLS } from '../../helpers';\nimport { refs } from '../../refs';\nimport { createMarkup } from '../markup';\nimport { shoppingListContent } from '../shopping-content';\nimport { createButton } from './markup-button';\n\nconst { pagination, paginationBtnWrap } = refs;\nlet currentPage = 1;\n\nconst LOCALSTORAGE_KEY = 'dates of books';\nconst basket = loadFromLS(LOCALSTORAGE_KEY) ?? [];\n\nfunction handleNavigate(e) {\n\tconst currentBtn = e.target.closest('button');\n\n\tif (!currentBtn) {\n\t\treturn;\n\t}\n\n\tconst page = currentBtn.dataset.page;\n\n\tswitchPage(page);\n}\n\nfunction switchPage(page) {\n\tconst amountBtn = paginationBtnWrap.childElementCount;\n\n\tconst firstPage = 1;\n\tconst prevPage = currentPage - 1;\n\tconst morePage = amountBtn;\n\tconst nextPage = currentPage + 1;\n\tconst lastPage = Math.ceil(basket.length / 4);\n\n\tswitch (page) {\n\t\tcase 'first-page':\n\t\t\tchangePage(firstPage);\n\t\t\tbreak;\n\t\tcase 'prev-page':\n\t\t\tchangePage(prevPage);\n\t\t\tbreak;\n\t\tcase 'more-page':\n\t\t\tchangePage(morePage);\n\t\t\tbreak;\n\t\tcase 'next-page':\n\t\t\tchangePage(nextPage);\n\t\t\tbreak;\n\t\tcase 'last-page':\n\t\t\tchangePage(lastPage);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tchangePage(page);\n\t\t\tbreak;\n\t}\n}\n\nfunction changePage(page) {\n\tconst thisPage = Number(page);\n\tconst lastPage = Math.ceil(basket.length / 4);\n\tconst startIndex = (thisPage - 1) * 4;\n\tconst currentBasket = basket.slice(startIndex, startIndex + 4);\n\n\tif (thisPage < 1 || thisPage > lastPage || thisPage === currentPage) {\n\t\treturn;\n\t}\n\n\tcreateMarkup(currentBasket);\n\tcreateButton(basket, thisPage);\n\n\tcurrentPage = page;\n}\n\ncreateButton(basket);\npagination.addEventListener('click', handleNavigate);\n","import { refs } from '../../refs';\n\nconst { paginationBtnWrap } = refs;\n\nexport function createButton(basket, page = 1) {\n\tconst totalPages = Math.ceil(basket.length / 4);\n\tlet beforePage = page - 1;\n\tlet afterPage = page + 1;\n\tconst markup = [];\n\tconst currentPage = page;\n\n\tif (page === totalPages) {\n\t\tbeforePage -= 1;\n\t}\n\n\tif (page === 1) {\n\t\tafterPage += 1;\n\t}\n\n\tfor (let pageLength = beforePage; pageLength <= afterPage; pageLength += 1) {\n\t\tif (pageLength > totalPages) {\n\t\t\tbreak;\n\t\t}\n\n\t\tif (pageLength === 0) {\n\t\t\tpageLength += 1;\n\t\t}\n\n\t\tmarkup.push(\n\t\t\t`<button\n                type=\"button\"\n                class=\"pagination__style-btn pagination__main-btn\n                ${pageLength === currentPage ? 'pagination__active-btn' : ''}\"\n                data-page=\"${pageLength}\">\n                ${pageLength}\n            </button>`\n\t\t);\n\n\t\tif (pageLength === afterPage && currentPage < totalPages - 1) {\n\t\t\tmarkup.push(\n\t\t\t\t`<button\n                    type=\"button\"\n                    class=\"pagination__style-btn pagination__to-forward-btn pagination__main-btn\"\n                    data-page=\"more-page\">\n                    ...\n                </button>`\n\t\t\t);\n\t\t}\n\t}\n\n\tpaginationBtnWrap.innerHTML = markup.join('');\n}\n"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$aijKs","$4Nugj","$0ef89c6d32652b51$exports","getBundleURL","resolve","$ffbe2ce3a2475536$exports","$6c7a65b4ffb31ef6$exports","$fec0d5d3043b6772$exports","$ab12315fc6dfeb16$exports","$311d65413ca7654d$var$shoppingContentList","refs","shoppingContentList","$311d65413ca7654d$var$createLink","links","item","find","param","name","toLowerCase","$311d65413ca7654d$export$24783e9f3a24abe4","basket","markup","map","_id","book_image","list_name","title","author","buy_links","amazonLink","appleBooksLink","concat","$parcel$interopDefault","join","innerHTML","$f8f2e3db73c9a58d$export$e67978e040affc73","e","currentBtn","target","closest","index","findIndex","book","splice","$f8f2e3db73c9a58d$var$findBook","dataset","saveToLS","$4159b30bada84586$export$4e30073ad43a30e3","$4159b30bada84586$var$ref","$4159b30bada84586$var$basket","loadFromLS","$4159b30bada84586$var$emptyContent","emptyContent","$4159b30bada84586$var$shoppingContentList","classList","add","remove","slice","addEventListener","$5abd187f8aaca0af$var$paginationBtnWrap","paginationBtnWrap","$5abd187f8aaca0af$export$9b6d6ca62970729f","page","arguments","totalPages","Math","ceil","beforePage","afterPage","currentPage","pageLength","push","$47ee28afcb8f8d7f$var$ref","$47ee28afcb8f8d7f$var$pagination","pagination","$47ee28afcb8f8d7f$var$paginationBtnWrap","$47ee28afcb8f8d7f$var$currentPage","$47ee28afcb8f8d7f$var$basket","$47ee28afcb8f8d7f$var$changePage","thisPage","Number","lastPage","startIndex","currentBasket","amountBtn","childElementCount","firstPage","prevPage","morePage","nextPage","$47ee28afcb8f8d7f$var$switchPage"],"version":3,"file":"shopping-list.8ec024fe.js.map"}