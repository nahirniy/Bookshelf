{"mappings":"kpBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,KCnBTE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,sWCAzDH,EAAA,S,WCAA,I,EAAAI,EAAAJ,EAAA,SCAAI,EAAAJ,EAAA,SCAAK,EAAiB,IAAAC,IAAoBN,EAAA,SAAAO,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,MCA5FC,EAAiB,IAAAN,IAAoBN,EAAA,SAAAO,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,MCA5FE,EAAiB,IAAAP,IAAoBN,EAAA,SAAAO,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,MCA5FG,EAAiB,IAAAR,IAAoBN,EAAA,SAAAO,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,MCA5FI,EAAiB,IAAAT,IAAoBN,EAAA,SAAAO,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WLO5F,MAAMK,oBAAEC,GAAwBb,EAAAc,KAEhC,SAASC,EAAWC,EAAOC,GAC1B,OAAOD,EAAME,MAAK,EAACC,KAAEA,KAAWA,EAAKC,gBAAkBH,IAAMX,G,CAGvD,SAASe,EAAaC,GAC5B,MAAMC,EAASD,EACbE,KAAI,EAACC,IAAEA,EAAGC,WAAEA,EAAUC,UAAEA,EAASC,MAAEA,EAAKC,OAAEA,EAAMC,UAAEA,MAClD,MAAMC,EAAahB,EAAWe,EAAW,UACnCE,EAAiBjB,EAAWe,EAAW,eAE7C,MAAO,+CAA+CL,kEACGC,WAAoBE,qQAIdA,iFACMD,mPAI7CM,EAAAtB,2gBASsCkB,oMAGtBE,wOAGOE,EAAAhC,UAAcgC,EAAAzB,wDACjByB,EAAAhC,kcASJ+B,wOAGOC,EAAAxB,UAAkBwB,EAAAvB,wDACrBuB,EAAAxB,wbAW7B,IAEfyB,KAAK,IAEPrB,EAAoBsB,UAAYZ,C,CMzEjCvB,EAAAJ,EAAA,SAGA,MAAMgB,oBAAEwB,GAAwBpC,EAAAc,KAIzB,SAASuB,EAAWC,EAAGhB,GAC7B,MAAMiB,EAAaD,EAAEE,OAAOC,QAAQ,iCAEpC,IAAKF,EACJ,OAGD,MAAMG,EAASH,EAAWE,QAAQ,2BAA2BE,QAAQlD,GAE/DmD,EAAQtB,EAAOuB,WAAUC,GAAQA,EAAKrB,MAAQiB,IACpDpB,EAAOyB,OAAOH,EAAO,GAErB,IACCI,aAAaC,QAfU,iBAegBnD,KAAKoD,UAAU5B,G,CACrD,MACD6B,OAAOC,QAAQ,gC,CAGhBC,G,CPrBD,MAEMC,aAAEC,EAAY3C,oBAAE4C,GAAwBxD,EAAAc,K,IAE/B2C,EAAf,MAAMC,EAA2D,QAAlDD,EAAA3D,KAAKC,MAAMiD,aAAaW,QAJd,0BAIwC,IAAlDF,IAAsD,GAE9D,SAASJ,IACO,IAAlBK,EAAOlE,OACV+D,EAAaK,UAAUC,IAAI,mBAE3BN,EAAaK,UAAUE,OAAO,mBAG/BzC,EAAaqC,E,CAGdL,IACAG,EAAoBO,iBAAiB,SAASzB,GAAKD,EAAWC,EAAGoB","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-1bc4c58cc7920092.js","src/shopping-list.js","src/js/shopping-list/shopping-content.js","src/js/shopping-list/markup.js","node_modules/@parcel/runtime-js/lib/runtime-148b3d1fba044d6d.js","node_modules/@parcel/runtime-js/lib/runtime-28b9434f7c563df7.js","node_modules/@parcel/runtime-js/lib/runtime-e453101966ba8ff3.js","node_modules/@parcel/runtime-js/lib/runtime-481b2a99530202a0.js","node_modules/@parcel/runtime-js/lib/runtime-1bccbf6f16d389a0.js","src/js/shopping-list/remove-book.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"f9bx4\\\":\\\"shopping-list.c6d6acd2.js\\\",\\\"dCaos\\\":\\\"icons.abbade11.svg\\\",\\\"8YHmh\\\":\\\"amazon.35e2295a.webp\\\",\\\"aUxwP\\\":\\\"amazon@2x.52597b7e.webp\\\",\\\"kmch8\\\":\\\"apple-books.8b0c3eb8.webp\\\",\\\"9Pjnq\\\":\\\"apple-books@2x.6fa174b5.webp\\\",\\\"4l2W5\\\":\\\"index.730e235d.js\\\"}\"));","import './js/services/scroll-up';\n// import './js/sidebar/support-list';\nimport './js/services/mobile-menu';\nimport './js/shopping-list/shopping-content';\n// import './js/modal-book/modal-book';\n","import { refs } from '../refs';\nimport { createMarkup } from './markup';\nimport { removeBook } from './remove-book';\n\nconst LOCALSTORAGE_KEY = 'dates of books';\n\nconst { emptyContent, shoppingContentList } = refs;\n\nconst basket = JSON.parse(localStorage.getItem(LOCALSTORAGE_KEY)) ?? [];\n\nexport function shoppingListContent() {\n\tif (basket.length !== 0) {\n\t\temptyContent.classList.add('visually-hidden');\n\t} else {\n\t\temptyContent.classList.remove('visually-hidden');\n\t}\n\n\tcreateMarkup(basket);\n}\n\nshoppingListContent();\nshoppingContentList.addEventListener('click', e => removeBook(e, basket));\n","import { refs } from '../refs';\nimport amazon from '../../images/trading-platform/amazon.webp';\nimport amazon2x from '../../images/trading-platform/amazon@2x.webp';\nimport appleBooks from '../../images/trading-platform/apple-books.webp';\nimport appleBooks2x from '../../images/trading-platform/apple-books@2x.webp';\nimport sprite from '../../images/icons/icons.svg';\n\nconst { shoppingContentList } = refs;\n\nfunction createLink(links, item) {\n\treturn links.find(({ name }) => name.toLowerCase() === item).url;\n}\n\nexport function createMarkup(basket) {\n\tconst markup = basket\n\t\t.map(({ _id, book_image, list_name, title, author, buy_links }) => {\n\t\t\tconst amazonLink = createLink(buy_links, 'amazon');\n\t\t\tconst appleBooksLink = createLink(buy_links, 'apple books');\n\n\t\t\treturn `<li class=\"shopping-content__item\" data-id=\"${_id}\">\n                <img class=\"shopping-content__image\" src=\"${book_image}\" alt=\"${title}\" />\n                <div class=\"shopping-content__box\">\n                    <div class=\"shopping-content__header-wrapper\">\n                        <div class=\"shopping-content__head-box\">\n                            <h3 class=\"shopping-content__title\">${title}</h3>\n                            <span class=\"shopping-content__list-name\">${list_name}</span>\n                        </div>\n                        <button class=\"shopping-content__delete-btn\" type=\"button\">\t\t\t\t\t\n                            <svg class=\"shopping-content__icon-trash\">\n\t\t\t\t\t\t        <use href=\"${sprite}#icon-trash\"></use>\n\t\t\t\t\t        </svg>\n                        </button>\n                    </div>\n                    <p class=\"shopping-content__description\">\n                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolorem quo facere quibusdam\n                        necessitatibus ex odio quaerat mollitia modi minima\n                    </p>\n                    <div class=\"shopping-content__bottom-wrapper\">\n                        <span class=\"shopping-content__author\">${author}</span>\n                        <ul class=\"shopping-content__company-list\">\n                            <li class=\"shopping-content__company-item\">\n                                <a href=\"${amazonLink}\" class=\"shopping-content__company-link\" target=\"_blank\">\n                                    <img\n                                        class=\"shopping-content__company-img\"\n                                        srcset=\"${amazon} 1x, ${amazon2x} 2x\"\n                                        src=\"${amazon}\"\n                                        alt=\"Amazon\"\n                                        width=\"32\"\n                                        height=\"11\"\n                                        loading=\"lazy\"\n                                    />\n                                </a>\n                            </li>\n                            <li class=\"shopping-content__company-item\">\n                                <a href=\"${appleBooksLink}\" class=\"shopping-content__company-link\" target=\"_blank\">\n                                    <img\n                                        class=\"shopping-content__company-img\"\n                                        srcset=\"${appleBooks} 1x, ${appleBooks2x} 2x\"\n                                        src=\"${appleBooks}\"\n                                        alt=\"Apple books\"\n                                        width=\"16\"\n                                        height=\"16\"\n                                        loading=\"lazy\"\n                                    />\n                                </a>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </li>`;\n\t\t})\n\t\t.join('');\n\n\tshoppingContentList.innerHTML = markup;\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8YHmh\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"aUxwP\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"kmch8\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"9Pjnq\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"dCaos\")).toString();","import { refs } from '../refs';\nimport { shoppingListContent } from './shopping-content';\n\nconst { shoppingContentList } = refs;\n\nconst LOCALSTORAGE_KEY = 'dates of books';\n\nexport function removeBook(e, basket) {\n\tconst currentBtn = e.target.closest('.shopping-content__delete-btn');\n\n\tif (!currentBtn) {\n\t\treturn;\n\t}\n\n\tconst bookId = currentBtn.closest('.shopping-content__item').dataset.id;\n\n\tconst index = basket.findIndex(book => book._id === bookId);\n\tbasket.splice(index, 1);\n\n\ttry {\n\t\tlocalStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(basket));\n\t} catch {\n\t\tNotify.failure('Oops! Something went wrong...');\n\t}\n\n\tshoppingListContent();\n}\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$krGWQ","$ffb9fdd7e7f2ea12$exports","URL","resolve","import","meta","url","toString","$f417f551bd2758e3$exports","$6bc5c2754c4e0609$exports","$0741dc9710f88db3$exports","$0b3222e46369e54d$exports","shoppingContentList","$7d622f4795ee9192$var$shoppingContentList","refs","$7d622f4795ee9192$var$createLink","links","item","find","name","toLowerCase","$7d622f4795ee9192$export$24783e9f3a24abe4","basket","markup","map","_id","book_image","list_name","title","author","buy_links","amazonLink","appleBooksLink","$parcel$interopDefault","join","innerHTML","$f659b965df24748d$var$shoppingContentList","$f659b965df24748d$export$e67978e040affc73","e","currentBtn","target","closest","bookId","dataset","index","findIndex","book","splice","localStorage","setItem","stringify","Notify","failure","$f19990c531871fb4$export$4e30073ad43a30e3","emptyContent","$f19990c531871fb4$var$emptyContent","$f19990c531871fb4$var$shoppingContentList","$f19990c531871fb4$var$ref","$f19990c531871fb4$var$basket","getItem","classList","add","remove","addEventListener"],"version":3,"file":"shopping-list.c6d6acd2.js.map"}