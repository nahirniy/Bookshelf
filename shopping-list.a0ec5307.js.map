{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-1a78c2c57ec5b10c.js","src/shopping-list.js","src/js/shopping-list/shopping-content.js","src/js/shopping-list/markup.js","node_modules/@parcel/runtime-js/lib/runtime-8abb300b3a5395d3.js","node_modules/@parcel/runtime-js/lib/runtime-59c6975dba8d68bf.js","node_modules/@parcel/runtime-js/lib/runtime-c1fb33c7fca67900.js","node_modules/@parcel/runtime-js/lib/runtime-c6e6339297fec74f.js","node_modules/@parcel/runtime-js/lib/runtime-9eb8fd3e1e5f7a71.js","src/js/shopping-list/pagination/markup-button.js","src/js/shopping-list/remove-book.js","src/js/shopping-list/pagination/pagination.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"jSFKT\\\":\\\"shopping-list.a0ec5307.js\\\",\\\"iBapZ\\\":\\\"icons.abbade11.svg\\\",\\\"5uWXW\\\":\\\"amazon.35e2295a.webp\\\",\\\"bt2Tw\\\":\\\"amazon@2x.52597b7e.webp\\\",\\\"4Sit1\\\":\\\"apple-books.8b0c3eb8.webp\\\",\\\"d1Pnb\\\":\\\"apple-books@2x.6fa174b5.webp\\\",\\\"cfiU8\\\":\\\"index.fbb8631b.js\\\"}\"));","import './js/services/scroll-up';\nimport './js/sidebar/support-list/support-list';\nimport './js/services/mobile-menu';\nimport './js/shopping-list/shopping-content';\nimport './js/shopping-list/pagination/pagination';\nimport './js/services/dark-theme';\n","import { loadFromLS } from '../helpers';\nimport { refs } from '../refs';\nimport { createMarkup } from './markup';\nimport { createButton } from './pagination/markup-button';\nimport { removeBook } from './remove-book';\n\nconst LOCALSTORAGE_KEY = 'dates of books';\nconst basket = loadFromLS(LOCALSTORAGE_KEY) ?? [];\nconst screenSize = window.innerWidth;\nlet currentBasket;\n\nif (screenSize >= 768) {\n\tcurrentBasket = basket.slice(0, 3);\n} else {\n\tcurrentBasket = basket.slice(0, 4);\n}\n\nconst { emptyContent, shoppingContentList, pagination } = refs;\n\nexport function shoppingListContent(updateBasket) {\n\tconst showContent = updateBasket.length !== 0;\n\tconst showPagination = currentBasket.length < updateBasket.length;\n\n\temptyContent.classList.toggle('visually-hidden', showContent);\n\tpagination.classList.toggle('visually-hidden', !showPagination);\n}\n\nshoppingListContent(basket);\ncreateButton(basket);\ncreateMarkup(currentBasket);\n\nshoppingContentList.addEventListener('click', e => removeBook(e));\n","import { refs } from '../refs';\nimport amazon from '../../images/trading-platform/amazon.webp';\nimport amazon2x from '../../images/trading-platform/amazon@2x.webp';\nimport appleBooks from '../../images/trading-platform/apple-books.webp';\nimport appleBooks2x from '../../images/trading-platform/apple-books@2x.webp';\nimport sprite from '../../images/icons/icons.svg';\n\nconst { shoppingContentList } = refs;\n\nfunction createLink(links, item) {\n\treturn links.find(({ name }) => name.toLowerCase() === item).url;\n}\n\nexport function createMarkup(basket) {\n\tconst markup = basket\n\t\t.map(({ _id, book_image, list_name, title, author, buy_links }) => {\n\t\t\tconst amazonLink = createLink(buy_links, 'amazon');\n\t\t\tconst appleBooksLink = createLink(buy_links, 'apple books');\n\n\t\t\treturn `<li class=\"shopping-content__item\" data-id=\"${_id}\">\n                <img class=\"shopping-content__image\" src=\"${book_image}\" alt=\"${title}\" />\n                <div class=\"shopping-content__box\">\n                    <div class=\"shopping-content__header-wrapper\">\n                        <div class=\"shopping-content__head-box\">\n                            <h3 class=\"shopping-content__title\">${title}</h3>\n                            <span class=\"shopping-content__list-name\">${list_name}</span>\n                        </div>\n                        <button class=\"shopping-content__delete-btn\" type=\"button\">\t\t\t\t\t\n                            <svg class=\"shopping-content__icon-trash\">\n\t\t\t\t\t\t        <use href=\"${sprite}#icon-trash\"></use>\n\t\t\t\t\t        </svg>\n                        </button>\n                    </div>\n                    <p class=\"shopping-content__description\">\n                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolorem quo facere quibusdam\n                        necessitatibus ex odio quaerat mollitia modi minima.Lorem ipsum dolor sit amet consectetur\n                        adipisicing elit. Dolorem quo facere quibusdam necessitatibus ex odio quaerat mollitia modi\n                        minima.Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolorem quo facere quibusdam\n                        necessitatibus ex odio quaerat mollitia modi minima\n                    </p>\n                    <div class=\"shopping-content__bottom-wrapper\">\n                        <span class=\"shopping-content__author\">${author}</span>\n                        <ul class=\"shopping-content__company-list\">\n                            <li class=\"shopping-content__company-item\">\n                                <a href=\"${amazonLink}\" class=\"shopping-content__company-link\" target=\"_blank\">\n                                    <img\n                                        class=\"shopping-content__company-img shopping-content__amazon-img\"\n                                        srcset=\"${amazon} 1x, ${amazon2x} 2x\"\n                                        src=\"${amazon}\"\n                                        alt=\"Amazon\"\n                                        loading=\"lazy\"\n                                    />\n                                </a>\n                            </li>\n                            <li class=\"shopping-content__company-item\">\n                                <a href=\"${appleBooksLink}\" class=\"shopping-content__company-link\" target=\"_blank\">\n                                    <img\n                                        class=\"shopping-content__company-img shopping-content__apple-books-img\"\n                                        srcset=\"${appleBooks} 1x, ${appleBooks2x} 2x\"\n                                        src=\"${appleBooks}\"\n                                        alt=\"Apple books\"\n                                        loading=\"lazy\"\n                                    />\n                                </a>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </li>`;\n\t\t})\n\t\t.join('');\n\n\tshoppingContentList.innerHTML = markup;\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"5uWXW\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"bt2Tw\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"4Sit1\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"d1Pnb\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"iBapZ\");","import { disabledPaginationBtn } from '../../helpers';\nimport { refs } from '../../refs';\n\nconst { paginationBtnWrap } = refs;\n\nexport function createButton(basket, page = 1) {\n\tconst screenSize = window.innerWidth;\n\tconst markup = [];\n\tconst currentPage = page;\n\tlet totalPages, maxCurrentPage, beforePage, afterPage;\n\n\tif (screenSize >= 768) {\n\t\ttotalPages = Math.ceil(basket.length / 3);\n\t\tbeforePage = page - 1;\n\t\tafterPage = page + 1;\n\n\t\tif (currentPage !== 1) {\n\t\t\tmaxCurrentPage = totalPages - 1;\n\t\t} else {\n\t\t\tmaxCurrentPage = totalPages - 2;\n\t\t}\n\n\t\tif (page === totalPages) {\n\t\t\tbeforePage -= 1;\n\t\t}\n\n\t\tif (page === 1) {\n\t\t\tafterPage += 1;\n\t\t}\n\t} else if (screenSize < 768 && screenSize > 350) {\n\t\ttotalPages = Math.ceil(basket.length / 4);\n\t\tbeforePage = page - 1;\n\t\tafterPage = page;\n\n\t\tif (currentPage !== 1) {\n\t\t\tmaxCurrentPage = totalPages;\n\t\t} else {\n\t\t\tmaxCurrentPage = totalPages - 1;\n\t\t}\n\n\t\tif (page === 1) {\n\t\t\tafterPage += 1;\n\t\t}\n\t} else {\n\t\ttotalPages = Math.ceil(basket.length / 4);\n\t\tbeforePage = page;\n\t\tafterPage = page;\n\n\t\tif (currentPage !== 1) {\n\t\t\tmaxCurrentPage = totalPages;\n\t\t} else {\n\t\t\tmaxCurrentPage = totalPages - 1;\n\t\t}\n\t}\n\n\tfor (let pageLength = beforePage; pageLength <= afterPage; pageLength += 1) {\n\t\tif (pageLength > totalPages) {\n\t\t\tbreak;\n\t\t}\n\n\t\tif (pageLength < 0) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (pageLength === 0) {\n\t\t\tpageLength += 1;\n\t\t}\n\n\t\tmarkup.push(\n\t\t\t`<button\n                type=\"button\"\n                class=\"pagination__style-btn pagination__main-btn\n                ${pageLength === currentPage ? 'pagination__active-btn' : ''}\"\n                data-page=\"${pageLength}\">\n                ${pageLength}\n            </button>`\n\t\t);\n\n\t\tif (pageLength === afterPage && currentPage < maxCurrentPage) {\n\t\t\tmarkup.push(\n\t\t\t\t`<button\n                    type=\"button\"\n                    class=\"pagination__style-btn pagination__to-forward-btn pagination__main-btn\"\n                    data-page=\"more-page\">\n                    ...\n                </button>`\n\t\t\t);\n\t\t}\n\t}\n\n\tdisabledPaginationBtn(currentPage, totalPages);\n\tpaginationBtnWrap.innerHTML = markup.join('');\n}\n","import { loadFromLS, saveToLS } from '../helpers';\nimport { refs } from '../refs';\nimport { changePage, updatePagination } from './pagination/pagination';\nimport { shoppingListContent } from './shopping-content';\n\nconst LOCALSTORAGE_KEY = 'dates of books';\n\nexport function removeBook(e) {\n\tconst currentBtn = e.target.closest('.shopping-content__delete-btn');\n\tconst basket = loadFromLS(LOCALSTORAGE_KEY) ?? [];\n\n\tif (!currentBtn) {\n\t\treturn;\n\t}\n\n\tconst bookId = currentBtn.closest('.shopping-content__item').dataset.id;\n\n\tfindBook(bookId, basket);\n\tsaveToLS(LOCALSTORAGE_KEY, basket);\n\tshoppingListContent(basket);\n\tupdatePagination(basket);\n}\n\nfunction findBook(id, basket) {\n\tconst index = basket.findIndex(book => book._id === id);\n\tbasket.splice(index, 1);\n}\n","import { loadFromLS } from '../../helpers';\nimport { refs } from '../../refs';\nimport { createMarkup } from '../markup';\nimport { createButton } from './markup-button';\n\nconst { pagination, paginationBtnWrap } = refs;\nlet currentPage = 1;\n\nconst LOCALSTORAGE_KEY = 'dates of books';\nconst screenSize = window.innerWidth;\n\nfunction handlePagination(e) {\n\tconst currentBtn = e.target.closest('button');\n\n\tif (!currentBtn) {\n\t\treturn;\n\t}\n\n\tconst page = currentBtn.dataset.page;\n\n\tupdatePage(page);\n}\n\nexport function updatePagination(basket) {\n\tconst activeBtn = paginationBtnWrap.querySelector('.pagination__active-btn');\n\tconst currentPage = Number(activeBtn.dataset.page);\n\tlet totalPages;\n\n\tif (screenSize >= 768) {\n\t\ttotalPages = Math.ceil(basket.length / 3);\n\t} else {\n\t\ttotalPages = Math.ceil(basket.length / 4);\n\t}\n\n\tif (currentPage > totalPages) {\n\t\tchangePage(totalPages);\n\t} else {\n\t\tchangePage(currentPage);\n\t}\n}\n\nfunction updatePage(page) {\n\tconst amountBtn = paginationBtnWrap.childElementCount;\n\tconst updateBasket = loadFromLS(LOCALSTORAGE_KEY) ?? [];\n\tconst thisPage = Number(page);\n\tconst firstPage = 1;\n\tlet morePage;\n\tlet lastPage;\n\n\tif (screenSize >= 768) {\n\t\tlastPage = Math.ceil(updateBasket.length / 3);\n\t\tmorePage = currentPage + amountBtn;\n\t} else {\n\t\tlastPage = Math.ceil(updateBasket.length / 4);\n\t\tmorePage = currentPage + amountBtn - 1;\n\t}\n\n\tlet targetPage;\n\n\tswitch (page) {\n\t\tcase 'first-page':\n\t\t\ttargetPage = firstPage;\n\t\t\tbreak;\n\t\tcase 'prev-page':\n\t\t\ttargetPage = currentPage - 1;\n\t\t\tbreak;\n\t\tcase 'more-page':\n\t\t\ttargetPage = morePage > lastPage ? lastPage : morePage;\n\t\t\tconsole.log(morePage);\n\t\t\tbreak;\n\t\tcase 'next-page':\n\t\t\ttargetPage = currentPage + 1;\n\t\t\tbreak;\n\t\tcase 'last-page':\n\t\t\ttargetPage = lastPage;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\ttargetPage = thisPage;\n\t\t\tbreak;\n\t}\n\n\tif (targetPage < 1 || targetPage > lastPage || targetPage === currentPage) {\n\t\treturn;\n\t}\n\n\tchangePage(targetPage);\n}\n\nexport function changePage(page) {\n\tconst updateBasket = loadFromLS(LOCALSTORAGE_KEY) ?? [];\n\tlet startIndex;\n\tlet currentBasket;\n\n\tif (screenSize >= 768) {\n\t\tstartIndex = (page - 1) * 3;\n\t\tcurrentBasket = updateBasket.slice(startIndex, startIndex + 3);\n\t} else {\n\t\tstartIndex = (page - 1) * 4;\n\t\tcurrentBasket = updateBasket.slice(startIndex, startIndex + 4);\n\t}\n\n\tcreateMarkup(currentBasket);\n\tcreateButton(updateBasket, page);\n\n\tcurrentPage = page;\n}\n\npagination.addEventListener('click', handlePagination);\n"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$aijKs","$4Nugj","$0ef89c6d32652b51$exports","getBundleURL","resolve","$ffbe2ce3a2475536$exports","$6c7a65b4ffb31ef6$exports","$fec0d5d3043b6772$exports","$ab12315fc6dfeb16$exports","$311d65413ca7654d$var$shoppingContentList","refs","shoppingContentList","$311d65413ca7654d$var$createLink","links","item","find","param","name","toLowerCase","$311d65413ca7654d$export$24783e9f3a24abe4","basket","markup","map","_id","book_image","list_name","title","author","buy_links","amazonLink","appleBooksLink","concat","$parcel$interopDefault","join","innerHTML","$5abd187f8aaca0af$var$paginationBtnWrap","paginationBtnWrap","$5abd187f8aaca0af$export$9b6d6ca62970729f","totalPages","maxCurrentPage","beforePage","afterPage","page","arguments","screenSize","window","innerWidth","currentPage","Math","ceil","pageLength","push","disabledPaginationBtn","$47ee28afcb8f8d7f$var$pagination","pagination","$47ee28afcb8f8d7f$var$paginationBtnWrap","$47ee28afcb8f8d7f$var$currentPage","$47ee28afcb8f8d7f$var$LOCALSTORAGE_KEY","$47ee28afcb8f8d7f$var$screenSize","$47ee28afcb8f8d7f$export$909ec5aabce1b1f7","activeBtn","querySelector","currentPage1","Number","dataset","$47ee28afcb8f8d7f$export$af04929cb32c4bb7","ref","startIndex","currentBasket","updateBasket","loadFromLS","slice","addEventListener","e","currentBtn","target","closest","morePage","lastPage","targetPage","amountBtn","childElementCount","thisPage","firstPage","console","log","$47ee28afcb8f8d7f$var$updatePage","$f8f2e3db73c9a58d$var$LOCALSTORAGE_KEY","$f8f2e3db73c9a58d$export$e67978e040affc73","index","findIndex","book","splice","$f8f2e3db73c9a58d$var$findBook","saveToLS","$4159b30bada84586$export$4e30073ad43a30e3","$4159b30bada84586$var$ref","$4159b30bada84586$var$currentBasket","$4159b30bada84586$var$basket","$4159b30bada84586$var$screenSize","$4159b30bada84586$var$emptyContent","emptyContent","$4159b30bada84586$var$shoppingContentList","$4159b30bada84586$var$pagination","showContent","showPagination","classList","toggle"],"version":3,"file":"shopping-list.a0ec5307.js.map"}